let products = {
    data: [
      {
        id: 1,
        productName: "Bowie Dick Test Pack",
        category: "s-monitoring",
        description_short: "Once a day... Since 1963",
        image: "bowie-dick-test-pack.png",
      },
      {
        id: 2,
        productName: "Bowie Dick Test Pack - Mini Pack",
        category: "s-monitoring",
        description_short: "Once a day ...... every day",
        image: "bowie-mini.png",
      },
      {
        id: 3,
        productName: "Bowie Dick Helix Test",
        category: "s-monitoring",
        description_short: "Bowie Dick Helix... for Hollow Loads",
        image: "bowie-dick-helix-test.png",
      },
      {
        id: 4,
        productName: "Bowie Dick Helix Test (SS)",
        category: "s-monitoring",
        description_short: "Checks your sterilizer for various load types",
        image: "bowie-dick-helix-test-ss.png",
      },
      {
        id: 5,
        productName: "Batch Control Helix Test Sheet",
        category: "s-monitoring",
        description_short: "Once a day... every day",
        image: "bowie-dick-test-sheet.png",
      },
      {
        id: 6,
        productName: "Batch Control Helix Test",
        category: "s-monitoring",
        description_short: "Checks your cycles... on all parameters",
        image: "batch-control-helix-test-steam.png",
      },
      {
        id: 7,
        productName: "Batch Control Helix Test (VH₂O₂)",
        category: "s-monitoring",
        description_short: "Checks your cycles... on all parameters",
        image: "batch-control-helix-test-plasma.png",
      },
      {
        id: 8,
        productName: "Batch Control Helix Test - Et0",
        category: "s-monitoring",
        description_short: "Ethylene Oxide",
        image: "batch-control-helix-test-eto.png",
      },
      {
        id: 9,
        productName: "Batch Monitoring Helix Test - F0",
        category: "s-monitoring",
        description_short: "Formaldehtde",
        image: "batch-monitoring-helix-test-fo.png",
      },
      {
        id: 10,
        productName: "Steam Indicator Type 4",
        category: "s-monitoring",
        description_short: "Multi-parameter ..... check it.",
        image: "steam-indicator.png",
      },
      {
        id: 11,
        productName: "Plasma Indicator",
        category: "s-monitoring",
        description_short: "when you want to check inside....",
        image: "plasma-indicator.png",
      },
      {
        id: 12,
        productName: "Long strip with EO indicator",
        category: "s-monitoring",
        description_short: "when you want to check inside....",
        image: "long-strip-eo.png",
      },
      {
        id: 13,
        productName: "Long strip with steam indicator",
        category: "s-monitoring",
        description_short: "when you want to check inside....",
        image: "long-strip-steam-indicator.png",
      },
      {
        id: 14,
        productName: "New Long strip with steam indicator",
        category: "s-monitoring",
        description_short: "when you want to check inside....",
        image: "new-long-strip-steam-indicator.png",
      },
      {
        id: 15,
        productName: "EO Integrator ",
        category: "s-monitoring",
        description_short: "The Integrator- Type 5",
        image: "eo-integrator.png",
      },
      {
        id: 16,
        productName: "Moving Front Integrator - Small",
        category: "s-monitoring",
        description_short: "The Integrator which moves you.....",
        image: "moving-front-integrator.png",
      },
      {
        id: 17,
        productName: "Steam Integrator ",
        category: "s-monitoring",
        description_short: "The Integrator...",
        image: "steam-integrator.png",
      },
      {
        id: 18,
        productName: "Steam Integrator - Large",
        category: "s-monitoring",
        description_short: "The Integrator - Self-adhesive",
        image: "steam-integrator-large.png",
      },
      {
        id: 19,
        productName: "Steam Emulator - Type 6",
        category: "s-monitoring",
        description_short: "The Emulator with a big plus...",
        image: "steam-emulator.png",
      },
      {
        id: 20,
        productName: "Emulator - Type 6  ",
        category: "s-monitoring",
        description_short: "The Emulator with a big plus - Self-Adhesive",
        image: "emulator.png",
      },
      {
        id: 21,
        productName: "Emulator - Type 6",
        category: "s-monitoring",
        description_short: "The Emulator with a big plus - 18 min",
        image: "emulator-min.png",
      },
      {
        id: 22,
        productName: "Digital Incubator for SCBI",
        category: "s-monitoring",
        description_short: "Precise Incubating your SCBI",
        image: "digital-incubator-for-scbi-t.png",
      },
      {
        id: 23,
        productName: "SCBI for EO -  PH reaction ",
        category: "s-monitoring",
        description_short: "Quickly monitoring - 12 hour",
        image: "scbi-eo-ph-t.png",
      }, {
        id: 24,
        productName: "SCBI for STEAM PH reaction",
        category: "s-monitoring",
        description_short: "Quickly monitoring - 8 hour",
        image: "scbi-ph-t.png",
      }, {
        id: 25,
        productName: " SCBI for STEAM, Plasma & Ethylene-Oxide",
        category: "s-monitoring",
        description_short: "",
        image: "scbi-steam-plasma-t.png",
      }, {
        id: 26,
        productName: "Quick Read-out Biological Indicator (SCBI)",
        category: "s-monitoring",
        description_short: "Quickly monitoring - 1 hour",
        image: "scbi-quick-t.png",
      }, {
        id: 27,
        productName: "Quick Read-out Biological Indicators (SCBI)",
        category: "s-monitoring",
        description_short: "Quickly monitoring - 1 hr/20",
        image: "scbi-quick-t.png",
      },
      {
        id: 28,
        productName: "2 Line Label Gun / Labels",
        category: "trace",
        description_short: "Two lines ... but it carries all information",
        image: "two-line-label-gun-new-t.png",
      },
      {
        id: 29,
        productName: "3 Line Label Gun & Labels",
        category: "trace",
        description_short: "Three lines ... the all information label",
        image: "three-line-label-gun-new-t.png",
      },
      {
        id: 30,
        productName: "3-Line Label guns & Labels ",
        category: "trace",
        description_short: "Three lines ... the all information label",
        image: "three-label-t.png",
      },
      {
        id: 31,
        productName: "Soft Crepe Paper - Blue",
        category: "sbs",
        description_short: "Sterile barrier ... be sure about it. ",
        image: "soft-crepe-paper.png",
      },
      {
        id: 32,
        productName: "Soft Crepe Paper  ",
        category: "sbs",
        description_short: "Sterile barrier Blue/Green",
        image: "soft-crepe-paper-bg.png",
      },
      {
        id: 33,
        productName: "Soft Crepe Paper - Green",
        category: "sbs",
        description_short: " Green",
        image: "soft-crepe-paper-bg.png",
      },
      {
        id: 34,
        productName: "Non-woven SMS  ",
        category: "sbs",
        description_short: "Green / Blue",
        image: "non-woven-sms.png",
      },
      {
        id: 35,
        productName: "Sterilization Rolls ",
        category: "sbs",
        description_short: "60 gsm - green film",
        image: "sterilization-rolls-green.png",
      },
      {
        id: 36,
        productName: "Sterilization Rolls ",
        category: "sbs",
        description_short: "70 gsm - green film",
        image: "sterilization-rolls-green.png",
      },
      {
        id: 37,
        productName: "Sterilization Rolls ",
        category: "sbs",
        description_short: "Tyvek 1059B",
        image: "sterilization-rolls-tyvek.png",
      },
      {
        id: 38,
        productName: "Steam Tapes",
        category: "sbs",
        description_short: "Whatever purpose ....... they stick",
        image: "steam-tape.png",
      },
      {
        id: 39,
        productName: "EO Gas Indicator Tapes",
        category: "sbs",
        description_short: "Economic and functional... ",
        image: "gas-indicator-tape.png",
      },
      {
        id: 40,
        productName: "White Tapes Steam",
        category: "sbs",
        description_short: "Whatever purpose ....... they stick",
        image: "steam-tape.png",
      },
      {
        id: 41,
        productName: "Plasma Tape - 19 mm x 60 meter",
        category: "sbs",
        description_short: "Sticky, Indicating with reference color ....",
        image: "plasma-tape.png",
      },
      {
        id: 42,
        productName: "Container Seal - 2,7 cm long pin",
        category: "accs",
        description_short: "Secures your sterile container...",
        image: "container-seal.png",
      },
      {
        id: 43,
        productName: "Container Seal - Self-Adhesive",
        category: "accs",
        description_short: "Secures your sterile container...",
        image: "container-seal-self-adhesive.jpg",
      },
      {
        id: 44,
        productName: "Instrument Protector Small",
        category: "accs",
        description_short: "Covers your sharp edges .....",
        image: "instrument-protector-small.png",
      },
      {
        id: 45,
        productName: " Sterile Barrier protector: Instrument-Fix",
        category: "accs",
        description_short: "Covers your sharp edges .....",
        image: "instrument-fix-protector.png",
      },
      {
        id: 46,
        productName: "Sterile Barrier protector: Instrument-Fix ",
        category: "accs",
        description_short: "Covers your sharp edges .....",
        image: "instrument-fix-protector-x.png",
      },
      {
        id: 47,
        productName: "Sterile Barrier protector: Instrument Tray Corner",
        category: "accs",
        description_short: "Covers your corners ..... protect your wrap",
        image: "instrument-tray-corner-protection.png",
      },
      {
        id: 48,
        productName: "Container Filter",
        category: "accs",
        description_short: "Secures your sterile container...",
        image: "container-filter-yellow.png",
      },
      {
        id: 49,
        productName: "Container Filter",
        category: "accs",
        description_short: "Secures your sterile container...",
        image: "container-filter-red.png",
      },
      {
        id: 50,
        productName: "Container card",
        category: "accs",
        description_short: "‘Label’ your sterile container...",
        image: "container-card.png",
      },
      {
        id: 51,
        productName: "Container Card (for Aesculap containers)",
        category: "accs",
        description_short: "‘Label’ your instrument container...",
        image: "container-card-aesculap.png",
      },
      {
        id: 52,
        productName: "Thermo-transfer printer indicator labels",
        category: "trace",
        description_short: "Double Thermo transfer Indicator Label",
        image: "thermo-transfer.png",
      },
      {
        id: 53,
        productName: "Thermo-transfer printer indicator labels",
        category: "trace",
        description_short: "It sticks .. and conform to standards",
        image: "thermo-transfer-indicator-label.png",
      },
      {
        id: 54,
        productName: "Protein Rapid Swab Test ",
        category: "cleaning",
        description_short: "Curious about your protein level ...",
        image: "protein-rapid-swab-test.png",
      },
      {
        id: 55,
        productName: "CSSD Markers ",
        category: "accs",
        description_short: "Secures your sterile container...",
        image: "cssd-markers.png",
      },
     
      {
        id: 56,
        productName: "Sticky Mat",
        category: "accs",
        description_short: "Cleaning by being sticky",
        image: "sticky-mats.png",
      },
      {
        id: 57,
        productName: "Water Soluble Laundry Bags",
        category: "accs",
        description_short: "Dissolving with warm water...",
        image: "water-soluble-laundry-bags.png",
      },
      {
        id: 58,
        productName: "Pre-Cleaning Brush set ",
        category: "cleaning",
        description_short: "Brush off that stain .... ",
        image: "brush.png",
      },
      {
        id: 59,
        productName: "Endoscope / Cannula Cleaning Brushes ",
        category: "cleaning",
        description_short: "Brush off that stain .... ",
        image: "endoscope-brush.png",
      },
      {
        id: 60,
        productName: "Instrument marking tape on sheets ",
        category: "i-p-monitoring",
        description_short: "Identification by variation....",
        image: "instrument-marking-tape-on-sheets.png",
      },
      {
        id: 61,
        productName: "Instrument tray/container Hang Tags ",
        category: "accs",
        description_short: "To make it extra clear....",
        image: "instrument-hang.png",
      },
      {
        id: 62,
        productName: "UltraSon - Efficiency Test",
        category: "s-monitoring",
        description_short: "Is your ultrasonic energy level ok....",
        image: "ultrasound.png",
      },
    ],
  };
  
  for (let i of products.data) {
    // Create anchor element to wrap the card
    let card = document.createElement("a"); 
    card.setAttribute("href", "/product_details/" + i.id); // Ürün detay sayfasına yönlendirme linki
    card.classList.add("card", i.category, "hide");

    // Image div
    let imgContainer = document.createElement("div");
    imgContainer.classList.add("image-container");

    // Image tag
    let staticUrl = document.getElementById('products').getAttribute('data-static-url');
    let image = document.createElement("img");
    image.setAttribute("src", staticUrl + i.image);
    imgContainer.appendChild(image);
    card.appendChild(imgContainer);

    // Container for product name and description_short
    let container = document.createElement("div");
    container.classList.add("container");

    // Product Name
    let name = document.createElement("h5");
    name.classList.add("product-name");
    name.innerText = i.productName.toUpperCase();
    container.appendChild(name);

    // Product description_short
    let description_short = document.createElement("h6");
    description_short.innerText = "" + i.description_short;
    container.appendChild(description_short);

    card.appendChild(container);
    document.getElementById("products").appendChild(card);
}

// Product Filter function
function filterProduct(value) {
    // Button class code
    let buttons = document.querySelectorAll(".button-value");
    buttons.forEach((button) => {
        if (value.toUpperCase() == button.innerText.toUpperCase()) {
            button.classList.add("active");
        } else {
            button.classList.remove("active");
        }
    });

    // Filter cards
    let elements = document.querySelectorAll(".card");
    elements.forEach((element) => {
        if (value == "all") {
            element.classList.remove("hide");
        } else {
            if (element.classList.contains(value)) {
                element.classList.remove("hide");
            } else {
                element.classList.add("hide");
            }
        }
    });
}

// Search functionality
document.getElementById("search").addEventListener("click", () => {
    let searchInput = document.getElementById("search-input").value;
    let elements = document.querySelectorAll(".product-name");
    let cards = document.querySelectorAll(".card");
    elements.forEach((element, index) => {
        if (element.innerText.includes(searchInput.toUpperCase())) {
            cards[index].classList.remove("hide");
        } else {
            cards[index].classList.add("hide");
        }
    });
});

// Initial display of all products
window.onload = () => {
    const params = new URLSearchParams(window.location.search);
    const indicator = params.get('filter');
    const filterValue = indicator ? indicator : 'all';
    filterProduct(filterValue);
};